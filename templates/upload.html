{% extends "layout.html" %}
{% block title %}Upload Data{% endblock %}
{% block content %}
    <h1>Upload Data</h1>
    <form method="post" enctype="multipart/form-data" class="form">
        <div class="form-group">
            <label for="source_type">Source Type:</label>
            <select name="source_type" id="source_type" class="form-control">
                <option value="load">Load</option>
                <option value="generation">Generation</option>
            </select>
        </div>

        <div class="form-group">
            <input type="checkbox" id="new_source_checkbox" name="new_source_checkbox">
            <label for="new_source_checkbox">Add new source</label>
        </div>

        <div id="existing_source_div" class="form-group">
            <label for="source_id">Source:</label>
            <select name="source_id" id="source_id" class="form-control">
                {# This will be populated dynamically with JavaScript #}
            </select>
        </div>

        <div id="new_source_div" style="display: none;">
            <div id="new_load_source" class="form-group">
                <label for="new_meter_name">New Meter Name:</label>
                <input type="text" id="new_meter_name" name="new_meter_name" class="form-control"><br>

            </div>
            <div id="new_generation_source" style="display: none;" class="form-group">
                <label for="new_generation_source_name">New Generation Source Name:</label>
                <input type="text" id="new_generation_source_name" name="new_generation_source_name" class="form-control"><br>
                <label for="generation_source_type">Type:</label>
                <input type="text" id="generation_source_type" name="generation_source_type" class="form-control"><br>
            </div>
        </div>

        <div class="form-group">
            <label for="file">Data File:</label>
            <input type="file" name="file" id="file" class="form-control">
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>
{% endblock %}
{% block scripts %}
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
